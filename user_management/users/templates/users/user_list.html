{% extends 'users/base.html' %}

{% block title %}–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏{% endblock %}

{% block content %}
    <h1>–°–∏—Å—Ç–µ–º–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏</h1>

        <!-- –í —à–∞–±–ª–æ–Ω–µ –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è/—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è -->
    <form method="post">
        {% csrf_token %}
        {{ form.as_p }}
        <button type="submit">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
    </form>


    <div class="action-buttons">
        <a href="{% url 'add_user' %}" class="btn btn-connect">–î–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è</a>
        <a href="{% url 'interview_list' %}" class="btn btn-interview">–°–æ–±–µ—Å–µ–¥–æ–≤–∞–Ω–∏–µ</a>
    </div>

<form method="get">
    <input type="text" name="search" placeholder="–ü–æ–∏—Å–∫ –ø–æ –∏–º–µ–Ω–∏ –∏–ª–∏ –Ω–æ–º–µ—Ä—É" value="{{ search_query }}">
    <button type="submit" class="btn btn-connect">üîç –ù–∞–π—Ç–∏</button>
    <a href="{% url 'user_list' %}" class="btn btn-delete">–°–±—Ä–æ—Å–∏—Ç—å</a>
</form>


    <div class="user-container">
        <!-- –°–≤—è–∑–∞–Ω–Ω—ã–µ —Å –≤–∞–º–∏ -->
        <div class="user-column">
            <h2>–°–≤—è–∑–∞–Ω–Ω—ã–µ —Å –≤–∞–º–∏</h2>
            <table>
                <thead>
                    <tr>
                        <th>–ò–º—è</th>
                        <th>–ù–æ–º–µ—Ä</th>
                        <th>–ù–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ</th>
                        <th>–î–µ–π—Å—Ç–≤–∏—è</th>
                    </tr>
                </thead>
                <tbody>
                    {% for user in connected_users %}
                        <tr>
                            <td>{{ user.name }}</td>
                            <td>{{ user.number }}</td>
                            <td>{{ user.direction }}</td>
                            <td>
                                <div class="buttons">
                                    <a href="{% url 'edit_user' user.id %}" class="btn btn-edit">–ò–∑–º–µ–Ω–∏—Ç—å</a>
                                    <a href="{% url 'toggle_connection' user.id %}" class="btn btn-delete">–í–µ—Ä–Ω—É—Ç—å</a>
                                    <a href="{% url 'delete_user' user.id %}" class="btn btn-delete">–£–¥–∞–ª–∏—Ç—å</a>
                                </div>
                            </td>
                        </tr>
                    {% empty %}
                        <tr><td colspan="4" class="empty-message">–ù–µ—Ç —Å–≤—è–∑–∞–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π.</td></tr>
                    {% endfor %}
                </tbody>
            </table>
        </div>

        <!-- –ù–µ —Å–≤—è–∑–∞–≤—à–∏–µ—Å—è -->
        <div class="user-column">
            <h2>–ù–µ —Å–≤—è–∑–∞–≤—à–∏–µ—Å—è</h2>
            <table>
                <thead>
                    <tr>
                        <th>–ò–º—è</th>
                        <th>–ù–æ–º–µ—Ä</th>
                        <th>–ù–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ</th>
                        <th>–î–µ–π—Å—Ç–≤–∏—è</th>
                    </tr>
                </thead>
                <tbody>
                    {% for user in not_connected_users %}
                        <tr>
                            <td>{{ user.name }}</td>
                            <td>{{ user.number }}</td>
                            <td>{{ user.direction }}</td>
                            <td>
                                <div class="buttons">
                                    <a href="{% url 'edit_user' user.id %}" class="btn btn-edit">–ò–∑–º–µ–Ω–∏—Ç—å</a>
                                    <a href="{% url 'toggle_connection' user.id %}" class="btn btn-connect">–°–≤—è–∑–∞—Ç—å</a>
                                    <a href="{% url 'delete_user' user.id %}" class="btn btn-delete">–£–¥–∞–ª–∏—Ç—å</a>
                                </div>
                            </td>
                        </tr>
                    {% empty %}
                        <tr><td colspan="4" class="empty-message">–ù–µ—Ç –Ω–µ—Å–≤—è–∑–∞–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π.</td></tr>
                    {% endfor %}
                </tbody>
            </table>
        </div>
    </div>

    <!-- –ö–æ—Ä–∑–∏–Ω–∞ -->
    <div class="user-column trash-section">
        <h2>–ö–æ—Ä–∑–∏–Ω–∞</h2>
        <table>
            <thead>
                <tr>
                    <th>–ò–º—è</th>
                    <th>–ù–æ–º–µ—Ä</th>
                    <th>–ù–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ</th>
                    <th>–î–µ–π—Å—Ç–≤–∏—è</th>
                </tr>
            </thead>
            <tbody>
                {% for user in deleted_users %}
                    <tr>
                        <td>{{ user.name }}</td>
                        <td>{{ user.number }}</td>
                        <td>{{ user.direction }}</td>
                        <td>
                            <div class="buttons">
                                <a href="{% url 'restore_user' user.id %}" class="btn btn-connect">–í–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç—å</a>
                                <a href="{% url 'permanent_delete_user' user.id %}" class="btn btn-delete">–£–¥–∞–ª–∏—Ç—å –Ω–∞–≤—Å–µ–≥–¥–∞</a>
                            </div>
                        </td>
                    </tr>
                {% empty %}
                    <tr><td colspan="4" class="empty-message">–ö–æ—Ä–∑–∏–Ω–∞ –ø—É—Å—Ç–∞.</td></tr>
                {% endfor %}
            </tbody>
        </table>
    </div>
{% endblock %}




